{"ast":null,"code":"var _jsxFileName = \"/Users/zeta/Documents/chat/src/pages/Chat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Box, Paper, TextField, IconButton, Typography, Stack } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const {\n    characterId\n  } = useParams();\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const handleSendMessage = () => {\n    if (!newMessage.trim()) return;\n    const userMessage = {\n      id: Date.now(),\n      text: newMessage,\n      sender: 'user',\n      timestamp: new Date()\n    };\n    setMessages([...messages, userMessage]);\n    setNewMessage('');\n\n    // 模拟角色回复\n    setTimeout(() => {\n      const characterMessage = {\n        id: Date.now() + 1,\n        text: '这是一个模拟的回复消息。',\n        sender: 'character',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, characterMessage]);\n    }, 1000);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      height: 'calc(100vh - 100px)',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        flex: 1,\n        mb: 2,\n        p: 2,\n        overflow: 'auto',\n        bgcolor: '#f5f5f5'\n      },\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        children: messages.map(message => /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start'\n          },\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2,\n              maxWidth: '70%',\n              bgcolor: message.sender === 'user' ? 'primary.main' : 'white',\n              color: message.sender === 'user' ? 'white' : 'text.primary'\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: message.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      component: \"form\",\n      sx: {\n        p: '2px 4px',\n        display: 'flex',\n        alignItems: 'center'\n      },\n      onSubmit: e => {\n        e.preventDefault();\n        handleSendMessage();\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        value: newMessage,\n        onChange: e => setNewMessage(e.target.value),\n        placeholder: \"\\u8F93\\u5165\\u6D88\\u606F...\",\n        variant: \"outlined\",\n        size: \"small\",\n        sx: {\n          mx: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        type: \"submit\",\n        color: \"primary\",\n        sx: {\n          p: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"UpnQ/JB+6SACLI5NZQrMG46/Fy0=\", false, function () {\n  return [useParams];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useParams","Box","Paper","TextField","IconButton","Typography","Stack","SendIcon","jsxDEV","_jsxDEV","Chat","_s","characterId","messages","setMessages","newMessage","setNewMessage","handleSendMessage","trim","userMessage","id","Date","now","text","sender","timestamp","setTimeout","characterMessage","prev","sx","height","display","flexDirection","children","flex","mb","p","overflow","bgcolor","spacing","map","message","justifyContent","maxWidth","color","fileName","_jsxFileName","lineNumber","columnNumber","component","alignItems","onSubmit","e","preventDefault","fullWidth","value","onChange","target","placeholder","variant","size","mx","type","_c","$RefreshReg$"],"sources":["/Users/zeta/Documents/chat/src/pages/Chat.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  Box,\n  Paper,\n  TextField,\n  IconButton,\n  Typography,\n  Avatar,\n  Stack,\n} from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\n\ninterface Message {\n  id: number;\n  text: string;\n  sender: 'user' | 'character';\n  timestamp: Date;\n}\n\nconst Chat = () => {\n  const { characterId } = useParams();\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [newMessage, setNewMessage] = useState('');\n\n  const handleSendMessage = () => {\n    if (!newMessage.trim()) return;\n\n    const userMessage: Message = {\n      id: Date.now(),\n      text: newMessage,\n      sender: 'user',\n      timestamp: new Date(),\n    };\n\n    setMessages([...messages, userMessage]);\n    setNewMessage('');\n\n    // 模拟角色回复\n    setTimeout(() => {\n      const characterMessage: Message = {\n        id: Date.now() + 1,\n        text: '这是一个模拟的回复消息。',\n        sender: 'character',\n        timestamp: new Date(),\n      };\n      setMessages(prev => [...prev, characterMessage]);\n    }, 1000);\n  };\n\n  return (\n    <Box sx={{ height: 'calc(100vh - 100px)', display: 'flex', flexDirection: 'column' }}>\n      {/* 消息列表 */}\n      <Paper\n        sx={{\n          flex: 1,\n          mb: 2,\n          p: 2,\n          overflow: 'auto',\n          bgcolor: '#f5f5f5',\n        }}\n      >\n        <Stack spacing={2}>\n          {messages.map((message) => (\n            <Box\n              key={message.id}\n              sx={{\n                display: 'flex',\n                justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start',\n              }}\n            >\n              <Paper\n                sx={{\n                  p: 2,\n                  maxWidth: '70%',\n                  bgcolor: message.sender === 'user' ? 'primary.main' : 'white',\n                  color: message.sender === 'user' ? 'white' : 'text.primary',\n                }}\n              >\n                <Typography>{message.text}</Typography>\n              </Paper>\n            </Box>\n          ))}\n        </Stack>\n      </Paper>\n\n      {/* 输入框 */}\n      <Paper\n        component=\"form\"\n        sx={{\n          p: '2px 4px',\n          display: 'flex',\n          alignItems: 'center',\n        }}\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleSendMessage();\n        }}\n      >\n        <TextField\n          fullWidth\n          value={newMessage}\n          onChange={(e) => setNewMessage(e.target.value)}\n          placeholder=\"输入消息...\"\n          variant=\"outlined\"\n          size=\"small\"\n          sx={{ mx: 1 }}\n        />\n        <IconButton\n          type=\"submit\"\n          color=\"primary\"\n          sx={{ p: '10px' }}\n        >\n          <SendIcon />\n        </IconButton>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default Chat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}